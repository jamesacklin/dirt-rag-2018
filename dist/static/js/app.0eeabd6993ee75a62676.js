webpackJsonp([1],{"1pPY":function(t,e){},KdOr:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"homepage-vue-app"}},[e("router-view")],1)},staticRenderFns:[]};var o=s("VU/8")({name:"Homepage"},r,!1,function(t){s("KdOr")},null,null).exports,n=s("/ocq"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loader loader--style1",attrs:{title:"0"}},[e("svg",{attrs:{version:"1.1",id:"loader-1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"40px",height:"40px",viewBox:"0 0 40 40","enable-background":"new 0 0 40 40","xml:space":"preserve"}},[e("path",{attrs:{opacity:"0.2",fill:"#000",d:"M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946 s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634 c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"}}),this._v(" "),e("path",{attrs:{fill:"#000",d:"M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0 C22.32,8.481,24.301,9.057,26.013,10.047z"}},[e("animateTransform",{attrs:{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"0.5s",repeatCount:"indefinite"}})],1)])])},staticRenderFns:[]};var d=s("VU/8")({},i,!1,function(t){s("QYr4")},null,null).exports,c={name:"FeaturedPost",components:{Spinner:d},data:function(){return{post:[],postLoaded:!1}},computed:{srcset:function(){return[this.post._embedded["wp:featuredmedia"][0].media_details.sizes.thumbnail.source_url+" 150w",this.post._embedded["wp:featuredmedia"][0].media_details.sizes.medium.source_url+" 320w",this.post._embedded["wp:featuredmedia"][0].media_details.sizes.large.source_url+" 600w"].join(", ")}},methods:{getFeaturedImage:function(t){if(t._embedded["wp:featuredmedia"])return t._embedded["wp:featuredmedia"][0].media_details.sizes.medium.source_url}},created:function(){var t=this;this.$store.dispatch("getFeaturedPost"),this.$store.subscribe(function(e,s){"storeFeatured"===e.type&&(t.postLoaded=!0,t.post=s.featuredPost.postData.data)})}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"featured-post"},[s("figure",[t.postLoaded?s("a",{attrs:{href:t.post.link}},[s("img",{attrs:{srcset:t.srcset,sizes:"(max-width: 770px) 200px, 50vw",src:t.getFeaturedImage(t.post)}})]):t._e(),t._v(" "),t.postLoaded?s("figcaption",[s("h1",[s("a",{attrs:{href:t.post.link}},[s("span",{domProps:{innerHTML:t._s(t.post.title.rendered)}})])]),t._v(" "),s("p",[t._v("by "+t._s(t.post._embedded.author[0].name))])]):t._e()]),t._v(" "),t.postLoaded?s("div",{staticClass:"featured-post-excerpt",domProps:{innerHTML:t._s(t.post.excerpt.rendered)}}):t._e()])])},staticRenderFns:[]};var m=s("VU/8")(c,u,!1,function(t){s("VOlM")},null,null).exports,p=s("oqQY"),l=s.n(p),h={name:"Post",props:["postdata","index"],data:function(){return{data:this.postdata}},methods:{getFeaturedImage:function(t){if(t._embedded["wp:featuredmedia"])return t._embedded["wp:featuredmedia"][0].media_details.sizes.thumbnail.source_url},getCommentsLength:function(t){return t._embedded.replies?t._embedded.replies[0].length:0},formatDate:function(t){return l()(String(t)).format("MMMM D, YYYY")}},computed:{srcset:function(){return 0===this.index?[this.data._embedded["wp:featuredmedia"][0].media_details.sizes.thumbnail.source_url+" 150w",this.data._embedded["wp:featuredmedia"][0].media_details.sizes.medium.source_url+" 320w"].join(", "):this.data._embedded["wp:featuredmedia"][0].media_details.sizes.thumbnail.source_url}}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"mh-custom-posts-item clearfix"},[s("figure",{class:{"mh-custom-posts-thumb-xl":0==t.index,"mh-custom-posts-thumb":0!=t.index}},[s("a",{staticClass:"mh-thumb-icon",attrs:{href:t.data.link}},[s("img",{class:{"attachment-mh-magazine-small size-mh-magazine-small wp-post-image":0!=t.index},attrs:{srcset:t.srcset,src:t.getFeaturedImage(t.data),sizes:"(max-width: 770px) 80px, (min-width: 770px) 100%",alt:""}})])]),t._v(" "),s("div",{staticClass:"mh-custom-posts-content"},[s("div",{staticClass:"mh-custom-posts-header"},[s("h3",{class:{"mh-custom-posts-xl-title":0==t.index,"mh-custom-posts-small-title":0!=t.index}},[s("a",{attrs:{href:t.data.link}},[s("span",{domProps:{innerHTML:t._s(t.data.title.rendered)}})])])]),t._v(" "),s("div",{staticClass:"mh-meta mh-custom-posts-meta"},[s("span",{staticClass:"mh-meta-date updated"},[s("i",{staticClass:"fa fa-clock-o"}),t._v(" "),s("span",{domProps:{innerHTML:t._s(t.formatDate(t.data.date))}})]),t._v(" \n      "),"open"===t.data.comment_status?s("span",{staticClass:"mh-meta-comments"},[s("i",{staticClass:"fa fa-comment-o"}),t._v(" "),s("span",{staticClass:"mh-comment-count-link",domProps:{innerHTML:t._s(t.getCommentsLength(t.data))}})]):t._e()]),t._v(" "),0===t.index?s("div",{staticClass:"mh-excerpt"},[s("div",{domProps:{innerHTML:t._s(t.data.excerpt.rendered)}})]):t._e()])])},staticRenderFns:[]};var _={name:"PostList",props:["category"],components:{Spinner:d,Post:s("VU/8")(h,f,!1,function(t){s("qfwR")},null,null).exports},data:function(){return{posts:[],categoryName:"",postsLoaded:!1,counter:3}},created:function(){this.$store.dispatch("getWpCat",{category:this.category})},computed:{postArray:function(){var t=this,e=this;if(this.$store.subscribe(function(s,a){"storePosts"===s.type&&(e.posts=a.posts[t.category],e.postsLoaded=!0)}),this.$store.subscribe(function(s,a){"storeCats"===s.type&&(e.categoryName=a.categoryDict[t.category])}),e.posts)return this.posts.slice(0,this.counter)}},methods:{increment:function(){this.counter+=3}}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mh-widget mh-home-3 mh_magazine_custom_posts"},[s("h4",{staticClass:"mh-widget-title"},[s("span",{staticClass:"mh-widget-title-inner>"},[t.categoryName?t._e():s("span",[t._v(" ")]),t._v(" "),t.categoryName?s("a",{attrs:{href:"/category/"+t.category+"/"}},[s("span",{domProps:{innerHTML:t._s(t.categoryName)}}),t._v(" "),s("i",{staticClass:"fa fa-arrow-right"})]):t._e()])]),t._v(" "),t.postsLoaded?t._e():s("Spinner",{key:"spinner",staticClass:"spinner"}),t._v(" "),s("ul",{staticClass:"mh-custom-posts-widget clearfix"},t._l(t.postArray,function(t,e){return s("Post",{key:e,attrs:{postdata:t,index:e}})})),t._v(" "),t.postsLoaded?s("div",[t.counter<6?s("button",{staticClass:"action-button",on:{click:t.increment}},[s("span",{},[s("i",{staticClass:"fa fa-chevron-down"}),t._v(" More "+t._s(t.categoryName))])]):t._e(),t._v(" "),t.counter>=6?s("a",{staticClass:"action-button",attrs:{href:"/category/"+t.category+"/"}},[s("span",{},[t._v("See All "+t._s(t.categoryName)+" "),s("i",{staticClass:"fa fa-arrow-right"})])]):t._e()]):t._e()],1)},staticRenderFns:[]};var v={name:"home-view",components:{FeaturedPost:m,PostList:s("VU/8")(_,g,!1,function(t){s("1pPY")},null,null).exports}},y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("FeaturedPost"),this._v(" "),e("div",{staticClass:"home-grid"},[e("PostList",{attrs:{category:"gear"}}),this._v(" "),e("PostList",{attrs:{category:"feature"}}),this._v(" "),e("PostList",{attrs:{category:"news"}}),this._v(" "),e("PostList",{attrs:{category:"video"}}),this._v(" "),e("PostList",{attrs:{category:"featured-ride"}}),this._v(" "),e("PostList",{attrs:{category:"opinion"}})],1)],1)},staticRenderFns:[]};var w=s("VU/8")(v,y,!1,function(t){s("cHNq")},null,null).exports;a.a.use(n.a);var x=new n.a({mode:"history",scrollBehavior:function(){return{y:0}},routes:[{path:"/",component:w}]}),b=s("//Fk"),C=s.n(b),P=s("mtWM"),L=s.n(P),F=s("NYxO");a.a.use(F.a);var M=new F.a.Store({state:{categoryDict:{},featuredPost:{},posts:{}},actions:{getFeaturedPost:function(t,e){return new C.a(function(e,s){t.state.featuredPost[0]?e():L.a.get("/wp-json/wp/v2/posts?filter[meta_key]=featured-post&filter[meta_value]=on&per_page=1&orderby=date&order=desc&_embed").then(function(s){t.commit({type:"storeFeatured",data:s.data[0]}),e()}).catch(function(t){s(t)})})},getWpCat:function(t,e){var s=this,a=e.category;L.a.get("/wp-json/wp/v2/categories?slug="+a).then(function(t){var e=t.data[0].id,r=t.data[0].name;s.dispatch("getPosts",{category:a,categoryId:e,categoryName:r})})},getPosts:function(t,e){var s=e.category,a=e.categoryId,r=e.categoryName;return new C.a(function(e,o){t.state.posts[s]?e():L.a.get("/wp-json/wp/v2/posts?_embed&per_page=6&categories="+a).then(function(a){t.commit({type:"storePosts",data:a.data,category:s}),t.commit({type:"storeCats",category:s,categoryName:r}),e()}).catch(function(t){o(t)})})}},mutations:{storeFeatured:function(t,e){a.a.set(t.featuredPost,"postData",e)},storeCats:function(t,e){var s=e.category,r=e.categoryName;a.a.set(t.categoryDict,s,r)},storePosts:function(t,e){var s=e.category,r=e.data;a.a.set(t.posts,s,r)}}});a.a.config.productionTip=!1,new a.a({el:"#homepage-vue-app",router:x,store:M,components:{Homepage:o},template:"<Homepage/>"})},QYr4:function(t,e){},VOlM:function(t,e){},cHNq:function(t,e){},qfwR:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.0eeabd6993ee75a62676.js.map