webpackJsonp([1],{DNwd:function(t,e){},IUBJ:function(t,e){},KdOr:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"homepage-vue-app"}},[e("router-view")],1)},staticRenderFns:[]};var r=s("VU/8")({name:"Homepage"},n,!1,function(t){s("KdOr")},null,null).exports,o=s("/ocq"),i=s("oqQY"),c=s.n(i),d={name:"Post",props:["data","index"],methods:{getFeaturedImage:function(t){if("image"===t._embedded["wp:featuredmedia"][0].media_type)return t._embedded["wp:featuredmedia"][0].media_details.sizes.medium.source_url},getCommentsLength:function(t){return t._embedded.replies?t._embedded.replies[0].length:0},formatDate:function(t){return c()(String(t)).format("MMMM D, YYYY")}}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"post"},[s("div",{class:{"small-thumbnail":0!=t.index}},[s("a",{attrs:{href:t.data.link}},[s("img",{attrs:{src:t.getFeaturedImage(t.data),alt:""}})])]),t._v(" "),s("div",{class:{"small-content":0!=t.index}},[s("h2",[s("a",{attrs:{href:t.data.link}},[s("span",{domProps:{innerHTML:t._s(t.data.title.rendered)}})])]),t._v(" "),s("div",{staticClass:"meta"},[s("span",[t._v("\n        ðŸ•“ "),s("span",{domProps:{innerHTML:t._s(t.formatDate(t.data.date))}})]),t._v("Â \n      "),"open"===t.data.comment_status?s("span",[t._v("\n        ðŸ—¨ "),s("span",{domProps:{innerHTML:t._s(t.getCommentsLength(t.data))}})]):t._e()]),t._v(" "),0==t.index?s("p",{domProps:{innerHTML:t._s(t.data.excerpt.rendered)}}):t._e()])])},staticRenderFns:[]};var u=s("VU/8")(d,p,!1,function(t){s("IUBJ")},null,null).exports,l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loader loader--style1",attrs:{title:"0"}},[e("svg",{attrs:{version:"1.1",id:"loader-1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"40px",height:"40px",viewBox:"0 0 40 40","enable-background":"new 0 0 40 40","xml:space":"preserve"}},[e("path",{attrs:{opacity:"0.2",fill:"#000",d:"M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946 s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634 c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"}}),this._v(" "),e("path",{attrs:{fill:"#000",d:"M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0 C22.32,8.481,24.301,9.057,26.013,10.047z"}},[e("animateTransform",{attrs:{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"0.5s",repeatCount:"indefinite"}})],1)])])},staticRenderFns:[]};var m={name:"PostList",props:["category"],components:{Spinner:s("VU/8")({},l,!1,function(t){s("QYr4")},null,null).exports,Post:u},data:function(){return{posts:[],postsLoaded:!1,counter:3}},created:function(){this.$store.dispatch("getWpCat",{category:this.category})},computed:{postArray:function(){var t=this,e=this;if(this.$store.subscribe(function(s,a){"storePosts"===s.type&&(e.posts=a.posts[t.category],e.postsLoaded=!0)}),e.posts)return this.posts.slice(0,this.counter)}},methods:{increment:function(){this.counter+=3}}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{padding:"0 1rem"}},[s("h2",{staticClass:"category-header"},[t._v(t._s(t.category))]),t._v(" "),t.postsLoaded?t._e():s("Spinner",{key:"spinner",staticClass:"spinner"}),t._v(" "),s("div",t._l(t.postArray,function(t,e){return s("Post",{key:e,attrs:{data:t,index:e}})})),t._v(" "),t.postsLoaded?s("div",[t.counter<10?s("button",{staticClass:"action-button",staticStyle:{"text-transform":"capitalize"},on:{click:t.increment}},[t._v("More "+t._s(t.category))]):t._e(),t._v(" "),t.counter>10?s("button",{staticClass:"action-button",staticStyle:{"text-transform":"capitalize"}},[t._v("See All "+t._s(t.category))]):t._e()]):t._e()],1)},staticRenderFns:[]};var v={name:"home-view",components:{PostList:s("VU/8")(m,g,!1,function(t){s("DNwd")},null,null).exports}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home-grid"},[e("PostList",{attrs:{category:"gear"}}),this._v(" "),e("PostList",{attrs:{category:"news"}}),this._v(" "),e("PostList",{attrs:{category:"opinion"}})],1)},staticRenderFns:[]};var h=s("VU/8")(v,f,!1,function(t){s("TFNY")},null,null).exports;a.a.use(o.a);var _=new o.a({mode:"history",scrollBehavior:function(){return{y:0}},routes:[{path:"/",component:h}]}),y=s("//Fk"),w=s.n(y),x=s("mtWM"),b=s.n(x),P=s("NYxO");a.a.use(P.a);var C=new P.a.Store({state:{posts:{}},actions:{getWpCat:function(t,e){var s=this,a=e.category;b.a.get("https://dirtragmag.com/wp-json/wp/v2/categories?slug="+a).then(function(t){var e=t.data[0].id;s.dispatch("getPosts",{category:a,categoryId:e})})},getPosts:function(t,e){var s=e.category,a=e.categoryId;return new w.a(function(e,n){t.state.posts[s]?e():b.a.get("https://dirtragmag.com/wp-json/wp/v2/posts?_embed&categories="+a).then(function(a){t.commit({type:"storePosts",data:a.data,category:s}),e()}).catch(function(t){n(t)})})}},mutations:{storePosts:function(t,e){var s=e.category,n=e.data;a.a.set(t.posts,s,n)}}});a.a.config.productionTip=!1,new a.a({el:"#homepage-vue-app",router:_,store:C,components:{Homepage:r},template:"<Homepage/>"})},QYr4:function(t,e){},TFNY:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.a68c2211a8642cc37026.js.map